(function(t){function n(n){for(var r,i,c=n[0],s=n[1],l=n[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(n);while(f.length)f.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,c=1;c<e.length;c++){var s=e[c];0!==a[s]&&(r=!1)}r&&(o.splice(n--,1),t=i(i.s=e[0]))}return t}var r={},a={app:0},o=[];function i(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/fractions-sum-app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var u=s;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"04ed":function(t,n,e){},"2ac2":function(t,n,e){"use strict";var r=e("6542"),a=e.n(r);a.a},"48d0":function(t,n,e){"use strict";var r=e("b2fd"),a=e.n(r);a.a},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app",attrs:{id:"app"}},[e("header-component"),e("main",{staticClass:"main container"},[e("div",{staticClass:"main__calculate"},[e("calculating-panel")],1)])],1)},o=[],i=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"header"},[e("div",{staticClass:"header__inner container"},[e("h1",{staticClass:"header__logo"},[t._v("Тестовое задание для BestStocks.ru")])])])}],s={name:"HeaderComponent"},l=s,u=(e("eadf"),e("2877")),d=Object(u["a"])(l,i,c,!1,null,null,null),f=d.exports,p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("article",{staticClass:"calculating-panel"},[e("div",{staticClass:"calculating-panel__wrap"},[e("div",{staticClass:"calculating-panel__fractions"},[e("ul",{staticClass:"calculating-panel__list"},t._l(t.fractions,(function(n){return e("li",{key:n.id,staticClass:"calculating-panel__item"},[e("fraction-component",{attrs:{fraction:n},on:{updateFraction:t.getErrorMessage}})],1)})),0),e("div",{staticClass:"calculating-panel__controls"},[e("button",{staticClass:"calculating-panel__btn",attrs:{type:"button",disabled:5===t.getFractionsLength},on:{click:t.createFraction}},[t._v("Add new fraction")]),e("button",{staticClass:"calculating-panel__btn",attrs:{type:"button"},on:{click:t.clearForm}},[t._v("Clear form")])]),t.showError?e("div",{staticClass:"calculating-panel__msg"},[t._v("Enter an integer from 1 to 99")]):t._e()]),e("div",{staticClass:"calculating-panel__result"},[t.result?e("span",{staticClass:"calculating-panel__result-text"},[t._v(t._s(t.result))]):e("span",[t._v("?")])])])])},m=[],v=(e("13d5"),e("b680"),e("2b19"),e("5530")),h=e("2f62"),g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fraction"},[e("div",{staticClass:"fraction__part"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.numerator,expression:"numerator"}],staticClass:"fraction__input",class:{_error:t.numError},attrs:{id:"num-"+t.fraction.id,type:"text",maxlength:"2",name:"numerator"},domProps:{value:t.numerator},on:{input:[function(n){n.target.composing||(t.numerator=n.target.value)},function(n){return t.checkInput("numError",n)}]}})]),e("div",{staticClass:"fraction__part fraction__part--last"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.denominator,expression:"denominator"}],staticClass:"fraction__input",class:{_error:t.denomError},attrs:{id:"den-"+t.fraction.id,type:"text",name:"denominator",maxlength:"2"},domProps:{value:t.denominator},on:{input:[function(n){n.target.composing||(t.denominator=n.target.value)},function(n){return t.checkInput("denomError",n)}]}})]),e("div",{staticClass:"fraction__controls"},[t.getFractionsLength>2?e("button",{staticClass:"fraction__btn",attrs:{type:"button"},on:{click:t.deleteFraction}},[e("span",{staticClass:"fraction__icon"})]):t._e()])])},_=[],b={name:"FractionComponent",props:{fraction:{type:Object,default:function(){return{}}}},data:function(){return{numerator:null,denominator:null,numError:!1,denomError:!1}},computed:Object(v["a"])({},Object(h["b"])(["getFractionsLength"])),methods:{updateFraction:function(){var t={id:this.fraction.id,numerator:{error:this.numError,value:this.numerator},denominator:{error:this.denomError,value:this.denominator}};this.$store.dispatch("updateFraction",t),this.$emit("updateFraction")},checkInput:function(t,n){this.validate(n.target.value)?this[t]=!1:this[t]=!0,this.updateFraction()},validate:function(t){return""===t||+t>0&&+t<100},deleteFraction:function(){this.$store.dispatch("deleteFraction",this.fraction.id)}},mounted:function(){var t=this.fraction,n=t.numerator,e=t.denominator;this.numerator=null===n||void 0===n?void 0:n.value,this.denominator=null===e||void 0===e?void 0:e.value,this.numError=null===n||void 0===n?void 0:n.error,this.denomError=null===e||void 0===e?void 0:e.error}},O=b,j=(e("2ac2"),Object(u["a"])(O,g,_,!1,null,null,null)),F=j.exports,C={name:"CalculatingPanel",components:{FractionComponent:F},data:function(){return{showError:!1}},computed:Object(v["a"])(Object(v["a"])(Object(v["a"])({},Object(h["c"])(["fractions","messages"])),Object(h["b"])(["getFractionsLength","getErrorFractionsLength"])),{},{result:function(){var t=this,n=+this.fractions.reduce((function(n,e){var r,a;return t.validate(e)?n+(null===e||void 0===e||null===(r=e.numerator)||void 0===r?void 0:r.value)/(null===e||void 0===e||null===(a=e.denominator)||void 0===a?void 0:a.value):NaN}),0);return!Object.is(NaN,n)&&n.toFixed(3)}}),methods:{createFraction:function(){this.$store.dispatch("createFraction")},clearForm:function(){this.$store.dispatch("clearForm"),this.$store.dispatch("clearMessage")},validate:function(t){var n=t.numerator,e=t.denominator;return null!==(null===n||void 0===n?void 0:n.value)&&0!==+(null===n||void 0===n?void 0:n.value)&&null!==(null===e||void 0===e?void 0:e.value)&&0!==+(null===e||void 0===e?void 0:e.value)},getErrorMessage:function(){this.getErrorFractionsLength>0?this.showError=!0:this.showError=!1}},mounted:function(){this.getErrorMessage()}},y=C,E=(e("48d0"),Object(u["a"])(y,p,m,!1,null,null,null)),w=E.exports,x={name:"App",components:{HeaderComponent:f,CalculatingPanel:w}},S=x,$=Object(u["a"])(S,a,o,!1,null,null,null),k=$.exports,N=(e("4de4"),e("c740"),e("a434"),e("ec26"));r["a"].use(h["a"]);var P={numerator:{error:!1,value:null},denominator:{error:!1,value:null}},I=new h["a"].Store({state:{fractions:JSON.parse(localStorage.getItem("fractions"))||[Object(v["a"])(Object(v["a"])({},P),{},{id:Object(N["a"])()}),Object(v["a"])(Object(v["a"])({},P),{},{id:Object(N["a"])()})]},mutations:{createFraction:function(t){t.fractions.push(Object(v["a"])(Object(v["a"])({},P),{},{id:Object(N["a"])()})),localStorage.setItem("fractions",JSON.stringify(t.fractions))},updateFraction:function(t,n){var e=t.fractions.findIndex((function(t){return t.id===n.id}));t.fractions.splice(e,1,n),localStorage.setItem("fractions",JSON.stringify(t.fractions))},deleteFraction:function(t,n){var e=t.fractions.findIndex((function(t){return t.id===n}));t.fractions.splice(e,1),localStorage.setItem("fractions",JSON.stringify(t.fractions))},clearForm:function(t){t.fractions=[Object(v["a"])(Object(v["a"])({},P),{},{id:Object(N["a"])()}),Object(v["a"])(Object(v["a"])({},P),{},{id:Object(N["a"])()})],localStorage.setItem("fractions",JSON.stringify(t.fractions))}},actions:{createFraction:function(t){var n=t.commit;n("createFraction")},updateFraction:function(t,n){var e=t.commit;e("updateFraction",n)},deleteFraction:function(t,n){var e=t.commit;e("deleteFraction",n)},clearForm:function(t){var n=t.commit;n("clearForm")}},getters:{getFractionsLength:function(t){return t.fractions.length},getErrorFractionsLength:function(t){return t.fractions.filter((function(t){var n,e;return(null===t||void 0===t||null===(n=t.numerator)||void 0===n?void 0:n.error)||(null===t||void 0===t||null===(e=t.denominator)||void 0===e?void 0:e.error)})).length}}});e("494d"),e("be2c");r["a"].config.productionTip=!1,new r["a"]({store:I,render:function(t){return t(k)}}).$mount("#app")},6542:function(t,n,e){},b2fd:function(t,n,e){},eadf:function(t,n,e){"use strict";var r=e("04ed"),a=e.n(r);a.a}});
//# sourceMappingURL=app.9c1170eb.js.map